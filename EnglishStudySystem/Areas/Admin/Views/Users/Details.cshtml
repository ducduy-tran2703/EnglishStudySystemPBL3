
@model EnglishStudySystem.Models.UserViewModel
@{
    ViewBag.Title = "Details";
    Layout = "~/Areas/Admin/Views/Shared/AdminLayoutPage.cshtml";
}


<div class="container-fluid py-3">
    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <h4><i class="fas fa-user-circle mr-2"></i>Chi tiết người dùng</h4>
        </div>

        <div class="card-body">
            <!-- Basic User Information -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <dl class="row">
                        <dt class="col-sm-4">Tên đăng nhập:</dt>
                        <dd class="col-sm-8">@Model.UserName</dd>

                        <dt class="col-sm-4">Email:</dt>
                        <dd class="col-sm-8">@Model.Email</dd>

                        <dt class="col-sm-4">Họ tên:</dt>
                        <dd class="col-sm-8">@Model.FullName</dd>
                    </dl>
                </div>
                <div class="col-md-6">
                    <dl class="row">
                        <dt class="col-sm-4">Vai trò:</dt>
                        <dd class="col-sm-8">
                            <span class="badge badge-info">@Model.Roles</span>
                        </dd>

                        <dt class="col-sm-4">Trạng thái:</dt>
                        <dd class="col-sm-8">
                            <span class="badge @(Model.IsActive ? "badge-success" : "badge-secondary")">
                                @(Model.IsActive ? "Hoạt động" : "Không hoạt động")
                            </span>
                        </dd>
                    </dl>
                </div>
            </div>

            <!-- Purchased Categories (for Customers) -->
            @if (Model.PurchasedCategories != null && Model.PurchasedCategories.Any())
            {
                <div class="mb-4">
                    <h5 class="border-bottom pb-2">
                        <i class="fas fa-shopping-cart mr-2"></i>Danh mục đã mua
                    </h5>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead class="thead-light">
                                <tr>
                                    <th>Tên danh mục</th>
                                    <th>Mô tả</th>
                                    <th>Giá</th>
                                    <th>Ngày mua</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var category in Model.PurchasedCategories)
                                {
                                    <tr>
                                        <td>@category.Name</td>
                                        <td>@category.Description</td>
                                        <td>@category.Price đ</td>
                                        <td>@category.CreatedDate.ToString("dd/MM/yyyy")</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            }

            <!-- Created Categories (for Editors) -->
            @if (Model.Categories != null && Model.Categories.Any())
            {
                <div class="mb-4">
                    <h5 class="border-bottom pb-2">
                        <i class="fas fa-folder-plus mr-2"></i>Danh mục đã tạo
                    </h5>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead class="thead-light">
                                <tr>
                                    <th>Tên danh mục</th>
                                    <th>Mô tả</th>
                                    <th>Giá</th>
                                    <th>Ngày tạo</th>
                                    <th>Trạng thái</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var category in Model.Categories)
                                {
                                    <tr>
                                        <td>@category.Name</td>
                                        <td>@category.Description</td>
                                        <td>@category.Price đ</td>
                                        <td>@category.CreatedDate.ToString("dd/MM/yyyy")</td>
                                        @*<td>
                                            <span class="badge @(category.IsActive ? "badge-success" : "badge-warning")">
                                                @(category.IsActive ? "Hoạt động" : "Tạm ẩn")
                                            </span>
                                        </td>*@
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            }

            <!-- Back Button -->
            <div class="mt-4">
                @Html.ActionLink("Quay lại", "ListUser", null, new { @class = "btn btn-secondary" })
            </div>
        </div>
    </div>
</div>